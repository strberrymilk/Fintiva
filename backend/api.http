@baseUrl = http://127.0.0.1:8000

### HEALTH
GET {{baseUrl}}/health

### Crear usuario y capturar id
# @name createUser
POST {{baseUrl}}/usuarios
Content-Type: application/json

{
  "nombre_completo": "Juan Pérez",
  "contrasena_hash": "hash_bcrypt_123",
  "estado": "Veracruz",
  "curp": "PEPJ800101HDFRRN09",
  "telefono": "228-000-0000"
}

### Guardar id del usuario creado
@userId = {{createUser.response.body.$.id_usuario}}

### Verificar usuario
GET {{baseUrl}}/usuarios/{{userId}}

### Registrar gastos (forma segura: id en la ruta)
POST {{baseUrl}}/usuarios/{{userId}}/gastos
Content-Type: application/json

{
  "gasto_agua": 500,
  "gasto_gas": 300,
  "gasto_luz": 250,
  "gasto_semillas": 800,
  "gasto_fertilizantes": 600,
  "gasto_mantenimiento": 400,
  "gasto_combustible": 200
}

### Registrar gastos (forma 2: id en el body)
POST {{baseUrl}}/gastos
Content-Type: application/json

{
  "id_usuario": {{userId}},
  "gasto_agua": 500,
  "gasto_gas": 300,
  "gasto_luz": 250,
  "gasto_semillas": 800,
  "gasto_fertilizantes": 600,
  "gasto_mantenimiento": 400,
  "gasto_combustible": 200
}

### Ver gastos del usuario
GET {{baseUrl}}/usuarios/{{userId}}/gastos

### Crear parcela (para pruebas)
# @name createParcela
POST {{baseUrl}}/parcelas
Content-Type: application/json

{
  "id_usuario": {{userId}},
  "nombre_parcela": "La Esperanza",
  "ubicacion": "19.54,-96.91",
  "tamano": "2.3 ha",
  "tipo_tenencia": "propio",
  "sistema_riego": "goteo"
}

@parcelaId = {{createParcela.response.body.$.id_parcela}}

### Crear cultivo (para pruebas)
# @name createCultivo
POST {{baseUrl}}/cultivos
Content-Type: application/json

{
  "id_parcela": {{parcelaId}},
  "tipo_cultivo": "Maíz",
  "mes_siembra": 3,
  "mes_cosecha": 9,
  "produccion_anio_pasado": 8,
  "produccion_anio_antepasado": 7
}

### Reporte demo
GET {{baseUrl}}/reportes/cultivos-por-usuario
